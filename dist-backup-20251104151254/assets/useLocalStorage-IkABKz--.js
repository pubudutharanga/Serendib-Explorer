import{r as s}from"./index-BccVf7zE.js";function f(t,r){const[n,a]=s.useState(()=>{try{if(typeof window<"u"){const e=localStorage.getItem(t);return console.log(`Reading from localStorage key "${t}":`,e),e?JSON.parse(e):r}return r}catch(e){return console.warn("Error reading from localStorage:",e),r}}),c=e=>{try{if(typeof window<"u"){const o=typeof e=="function"?e(n):e;console.log(`Setting localStorage key "${t}" to:`,o),a(o),localStorage.setItem(t,JSON.stringify(o))}}catch(o){console.warn("Error setting localStorage:",o)}};return s.useEffect(()=>{const e=o=>{if(o.key===t&&o.newValue)try{a(JSON.parse(o.newValue))}catch(g){console.warn("Error parsing storage event:",g)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[t]),[n,c]}export{f as u};
